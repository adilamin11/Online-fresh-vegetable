<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Menu - Online Veg Store</title>
  <style>
    body {font-family: Arial, sans-serif; background: #f4f4f4; margin: 0; padding: 0;}
    header {background: green; color: white; text-align: center; padding: 15px;}
    nav {background: #228B22; padding: 10px; text-align: center;}
    nav a {color: white; margin: 0 15px; text-decoration: none; font-weight: bold;}
    nav a:hover {text-decoration: underline;}
    .container {width: 80%; margin: 20px auto;}
    .item {background: white; padding: 20px; margin-bottom: 10px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 0 6px #ccc;}
    button {padding: 8px 15px; background: #228B22; color: white; border: none; border-radius: 6px; cursor: pointer;}
    button:hover {background: #1a6d1a;}
  </style>
</head>
<body>
<header>
  <h1>ðŸ¥¦ Fresh Vegetables - Menu</h1>
</header>

<nav>
  <a href="home.html">Home</a>
  <a href="menu.html">Menu</a>
  <a href="category.html">Category</a>
  <a href="cart.html">Cart</a>
</nav>

<div class="container">
  <div class="item">
    <span>Tomato - â‚¹40</span>
    <button onclick="addToCart('Tomato', 40)">Add to Cart</button>
  </div>
  <div class="item">
    <span>Potato - â‚¹30</span>
    <button onclick="addToCart('Potato', 30)">Add to Cart</button>
  </div>
  <div class="item">
    <span>Onion - â‚¹50</span>
    <button onclick="addToCart('Onion', 50)">Add to Cart</button>
  </div>
</div>

<script>
  const userId = "demoUser"; // Replace with actual logged-in user

  async function addToCart(name, price) {
    let res = await fetch(`http://localhost:5000/api/cart/${userId}`);
    let data = await res.json();
    let items = data.items || [];
    items.push({ name, price });

    await fetch("http://localhost:5000/api/cart", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ userId, items })
    });

    alert(name + " added to cart âœ…");
  }
</script>
</body>
</html>
