<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Home - Online Fresh Vegetable Shop</title>
  <style>
    body {margin:0; font-family:Arial, sans-serif; background:white; color:#333;}
    header {background: linear-gradient(45deg, green, limegreen); color:white; text-align:center; padding:20px;}
    nav {background:#228B22; padding:12px; text-align:center;}
    nav a {color:white; text-decoration:none; margin:0 15px; font-weight:bold; padding:8px 12px; border-radius:6px; transition:0.3s;}
    nav a:hover {background:white; color:green;}
    .welcome {background:#e6ffe6; padding:40px; text-align:center; font-size:24px; font-weight:bold;}

    /* Search */
    .search-box {text-align:center; margin:20px;}
    .search-box input {width:60%; padding:12px; border:1px solid #ccc; border-radius:8px;}

    /* Grid */
    .container {width:90%; margin:auto; padding:20px;}
    .grid {display:grid; grid-template-columns:repeat(3,1fr); gap:20px;}
    .card {border:1px solid #ddd; padding:20px; border-radius:12px; text-align:center; box-shadow:0 2px 6px #ccc; position:relative;}
    .price {color:green; font-weight:bold; font-size:18px;}
    button {margin-top:10px; padding:8px 12px; border:none; border-radius:6px; background:#228B22; color:white; cursor:pointer;}
    button:hover {background:#1a6d1a;}

    .offer-tag {position:absolute; top:10px; left:10px; background:red; color:white; padding:4px 10px; font-size:12px; border-radius:6px;}

    h2 {color:#228B22; margin-bottom:15px;}

    .reviews {display:flex; gap:20px; margin:30px 0;}
    .review-card {flex:1; background:#f9f9f9; padding:20px; border-radius:12px; box-shadow:0 2px 5px #ccc;}
    .stars {color:gold; margin-bottom:8px;}
  </style>
</head>
<body>

<header>
  <h1>ü•¶ Online Fresh Vegetable Shop</h1>
</header>

<nav>
  <a href="home.html">Home</a>
  <a href="menu.html">Menu</a>
  <a href="category.html">Category</a>
  <a href="cart.html">Cart</a>
  <a href="about.html">About Us</a>
  <a href="contact.html">Contact</a>
  <span id="loginStatus" style="color:white; margin-left:20px;"></span>
  <a id="loginLink" href="login.html">Login</a>
</nav>

<div class="welcome">Fresh Vegetables Delivered To Your Doorstep ü•¶ü•ïüçÖ</div>

<!-- Search -->
<div class="search-box">
  <input type="text" id="searchInput" placeholder="Search vegetables..." onkeyup="searchVeggies()">
</div>

<!-- Not Available Message -->
<div id="searchMessage" style="text-align:center; color:red; font-weight:bold; display:none;">
  ‚ùå Not Available
</div>

<!-- Best Sellers -->
<div class="container">
  <h2>‚≠ê Best Sellers</h2>
  <div class="grid" id="veggieGrid">
    <div class="card">
      <img src="images/Tomato.jpg" alt="Tomato" style="width:100%; height:300px; object-fit:cover;">
      <span class="offer-tag">Buy 1 KG Get 1 KG</span>
      <h3 class="veg-name">Tomato</h3>
      <p class="price">‚Çπ50 / kg</p>
      <button onclick="addToCart('Tomato',50)">üõí Add to Cart</button>
    </div>

    <div class="card">
      <img src="images/Carrot.jpg" alt="Carrot" style="width:100%; height:300px; object-fit:cover;">
      <h3 class="veg-name">Carrot</h3>
      <p class="price">‚Çπ50 / kg</p>
      <button onclick="addToCart('Carrot',50)">üõí Add to Cart</button>
    </div>

    <div class="card">
      <img src="images/Potato.jpg" alt="Potato" style="width:100%; height:300px; object-fit:cover;">
      <h3 class="veg-name">Potato</h3>
      <p class="price">‚Çπ30 / kg</p>
      <button onclick="addToCart('Potato',30)">üõí Add to Cart</button>
    </div>
  </div>
</div>

<!-- Reviews -->
<div class="container">
  <h2>üìù Customer Reviews</h2>
  <div class="reviews">
    <div class="review-card">
      <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
      <p>"Freshest vegetables I ever bought!" - Monika</p>
    </div>
    <div class="review-card">
      <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê</div>
      <p>"On-time delivery and good quality." - Rahul</p>
    </div>
  </div>
</div>

<!-- ‚úÖ Scripts -->
<script>
  // Login status check
  window.onload = function() {
    let status = document.getElementById("loginStatus");
    let loginLink = document.getElementById("loginLink");
    let user = localStorage.getItem("username");

    if(localStorage.getItem("isLoggedIn") === "true"){
      status.innerText = "üë§ Logged in as " + user;
      loginLink.innerText = "Logout";
      loginLink.href = "#";
      loginLink.onclick = function(){
        localStorage.removeItem("isLoggedIn");
        localStorage.removeItem("username");
        localStorage.removeItem("token");
        alert("You have been logged out!");
        window.location.href = "login.html";
      };
    } else {
      status.innerText = "üîí You are not logged in";
      loginLink.innerText = "Login";
      loginLink.href = "login.html";
    }
  };

  // Add to cart
  function addToCart(name, price){
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    cart.push({ name: name, price: price });
    localStorage.setItem("cart", JSON.stringify(cart));
    alert(name + " added to cart!");
  }

  // Search
  function searchVeggies(){
    let input = document.getElementById("searchInput").value.toLowerCase();
    let cards = document.querySelectorAll("#veggieGrid .card");
    let message = document.getElementById("searchMessage");
    let found = false;

    cards.forEach(card => {
      let vegName = card.querySelector(".veg-name").innerText.toLowerCase();
      if(vegName.includes(input)){
        card.style.display = "block";
        found = true;
      } else {
        card.style.display = "none";
      }
    });

    message.style.display = (!found && input !== "") ? "block" : "none";
  }

  // Redirect if not logged in
  // if(localStorage.getItem("isLoggedIn") !== "true"){
  //   alert("‚ö† Please login first!");
  //   window.location.href = "login.html";
  // }
</script>

</body>
</html>
